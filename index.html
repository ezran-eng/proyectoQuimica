<script>
    const WebApp = window.Telegram.WebApp;
    WebApp.ready();

    // Configuramos el Botón Principal
    WebApp.MainButton.setText('Probar Alerta Nativa');
    WebApp.MainButton.show();

    // Adjuntamos el evento 'click' para la prueba de alerta
    WebApp.MainButton.onClick(() => {
        // En lugar de enviar datos, ahora solo intentamos mostrar una alerta.
        try {
            WebApp.showAlert("¡El puente de comunicación con el cliente funciona!");
        } catch (error) {
            // Si incluso esto falla, lo sabremos.
            alert("Error al llamar a WebApp.showAlert: " + error);
        }
    });
</script>
